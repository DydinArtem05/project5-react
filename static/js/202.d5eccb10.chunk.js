"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[202],{4202:function(r,e,t){t.r(e),t.d(e,{default:function(){return nr}});var o=t(5671),s=t(3144),i=t(136),n=t(516),p=t(1413),l=t(2791),u=t(8687),a="Profile_profile__4NnBX",f="Profile_profile_logo__3F3bT",c="Profile_change_logo__wrapper__fPfnX",h="Profile_change_logo__input__V3HfC",d="Profile_change_logo__label__Iun3d",_="Profile_profile_name__qbcBx",m="Profile_profile_status__VcJjj",P="Profile_profile_status__paragraph__WwqVI",v="Profile_profile_status__form__EgszV",x="Profile_profile_status__input__ME08B",Z="Profile_write_post__4lvCS",g="Profile_write_post__input__-Y8QM",j="Profile_write_post__button__A1b+X",N="Profile_profile_posts__5+hkL",I="Profile_profile_posts__title__6pvUW",S="Profile_post_block__hchB2",k="Profile_authors_post__4vDTK",C="Profile_post_block__profile_logo__GesIR",w="Profile_post_block__profile_name__0MmrS",A="Profile_post_message__3mI9p",b=t(9439),y=t(1694),L=t.n(y),D=t(6139),U=t(1232),q=t(3254),T=t(184),F=function(r){var e=r.status,t=r.onStatusChange,o=r.DeactivateEditStatus;return(0,T.jsx)("form",{className:L()(v),children:(0,T.jsx)(D.Z,{className:L()(x),type:"text",name:"updateStatustext",component:q.I,autoFocus:!0,onBlur:o,value:e,onChange:t})})};F=(0,U.Z)({form:"status"})(F);var B=function(r){var e=(0,l.useState)(!1),t=(0,b.Z)(e,2),o=t[0],s=t[1],i=(0,l.useState)(r.profileStatus),n=(0,b.Z)(i,2),p=n[0],u=n[1];(0,l.useEffect)((function(){u(r.profileStatus)}),[r.profileStatus]);return r.userAuthId!=r.currentUserIdProfile?(0,T.jsx)("div",{className:L()(m),children:(0,T.jsx)("div",{className:L()(P),children:(0,T.jsx)("p",{children:p||"-------"})})}):r.userAuthId==r.currentUserIdProfile?(0,T.jsxs)("div",{className:L()(m),children:[(0,T.jsx)("span",{children:"Status: "}),!o&&(0,T.jsx)("div",{className:L()(P),children:(0,T.jsx)("p",{onDoubleClick:function(){s(!0)},children:p||"-------"})}),o&&(0,T.jsx)(F,{onStatusChange:function(r){u(r.currentTarget.value)},status:p,DeactivateEditStatus:function(){s(!1),r.updateProfileStatus(p)}})]}):void 0},E=t(96),M=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){var s;return(0,o.Z)(this,t),(s=e.call(this,r)).onPhotoSelected=function(r){r.target.files.length&&s.props.putNewProfileLogo(r.target.files[0])},s}return(0,s.Z)(t,[{key:"render",value:function(){return this.props.profile?this.props.currentUserIdProfile!=this.props.userAuthId?(0,T.jsx)("div",{className:L()(f),children:(0,T.jsx)("div",{className:c,children:(0,T.jsx)("img",{src:this.props.profile.photos.small?this.props.profile.photos.small:this.props.profileDefaultLogo,alt:""})})}):this.props.currentUserIdProfile==this.props.userAuthId?(0,T.jsx)("div",{className:L()(f),children:(0,T.jsxs)("div",{className:c,children:[(0,T.jsx)("img",{src:this.props.profile.photos.small?this.props.profile.photos.small:this.props.profileDefaultLogo,alt:""}),(0,T.jsx)("input",{type:"file",id:"put-logo",onChange:this.onPhotoSelected,className:h}),(0,T.jsx)("label",{htmlFor:"put-logo",className:d})]})}):void 0:(0,T.jsx)(E.Z,{})}}]),t}(l.Component),R=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){return this.props.profile?(0,T.jsx)("div",{className:L()(_),children:(0,T.jsx)("h1",{children:this.props.profile.fullName?this.props.profile.fullName:this.props.profileDefaultName})}):(0,T.jsx)(E.Z,{})}}]),t}(l.Component),V=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){return this.props.profile?(0,T.jsx)("div",{className:L()(C),children:(0,T.jsx)("img",{src:this.props.profile.photos.small?this.props.profile.photos.small:this.props.postProfileLogo.src,alt:""})}):(0,T.jsx)(E.Z,{})}}]),t}(l.Component),W=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){return this.props.profile?(0,T.jsx)("div",{className:L()(w),children:(0,T.jsx)("h3",{children:this.props.profile.fullName?this.props.profile.fullName:this.props.postProfileName.name})}):(0,T.jsx)(E.Z,{})}}]),t}(l.Component),X=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){return(0,T.jsxs)("div",{className:L()(k),children:[(0,T.jsx)(V,{postProfileLogo:this.props.postProfileLogo,profile:this.props.profile}),(0,T.jsx)(W,{postProfileName:this.props.postProfileName,profile:this.props.profile})]})}}]),t}(l.Component),$=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){var r=this;return(0,T.jsxs)("div",{className:L()(N),children:[(0,T.jsx)("h2",{className:L()(I),children:"Posts"}),this.props.posts.map((function(e){return(0,T.jsxs)("div",{className:L()(S),children:[(0,T.jsx)(X,{postProfileLogo:r.props.postProfileLogo,postProfileName:r.props.postProfileName,profile:r.props.profile}),(0,T.jsx)("p",{className:L()(A),children:e.message})]},e.postId)}))]})}}]),t}(l.Component),H=t(6070),K=(0,t(4245).t)(30),O=(0,U.Z)({form:"addNewPostForm"})((function(r){return(0,T.jsxs)("form",{className:L()(Z),onSubmit:r.handleSubmit,children:[(0,T.jsx)(D.Z,{className:L()(g),type:"text",placeholder:"write new post",component:q.I,name:"addPostText",validate:[K]}),(0,T.jsx)("button",{type:"submit",className:L()(j),children:"Publish"})]})})),z=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(){var r;(0,o.Z)(this,t);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(r=e.call.apply(e,[this].concat(i))).onAddPost=function(e){r.props.addPostActionCreator(e.addPostText)},r}return(0,s.Z)(t,[{key:"render",value:function(){return(0,T.jsx)(O,{onSubmit:this.onAddPost})}}]),t}(l.Component),G=(0,u.$j)(null,{addPostActionCreator:H.Wl})(z),J=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){return(0,o.Z)(this,t),e.call(this,r)}return(0,s.Z)(t,[{key:"render",value:function(){return(0,T.jsxs)("div",{className:a,children:[(0,T.jsx)(B,{currentUserIdProfile:this.props.currentUserIdProfile,userAuthId:this.props.userAuthId,profileStatus:this.props.profileStatus,updateProfileStatus:this.props.updateProfileStatus}),(0,T.jsx)(M,{currentUserIdProfile:this.props.currentUserIdProfile,userAuthId:this.props.userAuthId,profileDefaultLogo:this.props.profilePage.profileLogo.src,profile:this.props.profile,putNewProfileLogo:this.props.putNewProfileLogo}),(0,T.jsx)(R,{profileDefaultName:this.props.profilePage.profileName.name,profile:this.props.profile}),(0,T.jsx)(G,{}),(0,T.jsx)($,{posts:this.props.profilePage.posts,postProfileLogo:this.props.profilePage.profileLogo,postProfileName:this.props.profilePage.profileName,profile:this.props.profile})]})}}]),t}(l.Component),Q=t(7689),Y=t(1548),rr=t(7781),er=function(r){return r.profilePage},tr=function(r){return r.profilePage.profile},or=function(r){return r.profilePage.profileStatus},sr=function(r){return r.authUser.userId};var ir=function(r){(0,i.Z)(t,r);var e=(0,n.Z)(t);function t(r){var s;return(0,o.Z)(this,t),(s=e.call(this,r)).userDataRequest=function(){var r=s.props.router.params.userId;r||(r=s.props.userAuthId,window.location.pathname="/profile/".concat(r)),s.props.requestProfile(r),s.props.requestProfileStatus(r)},s}return(0,s.Z)(t,[{key:"componentDidMount",value:function(){this.userDataRequest()}},{key:"componentDidUpdate",value:function(r){r.router.params.userId!=this.props.router.params.userId&&this.userDataRequest()}},{key:"render",value:function(){var r=this.props.router.params.userId;return(0,T.jsx)(J,{putNewProfileLogo:this.props.putNewProfileLogo,updateProfileStatus:this.props.updateProfileStatus,profilePage:this.props.profilePage,profile:this.props.profile,profileStatus:this.props.profileStatus,userAuthId:this.props.userAuthId,currentUserIdProfile:r})}}]),t}(l.Component),nr=(0,rr.qC)((0,u.$j)((function(r){return{profilePage:er(r),profile:tr(r),profileStatus:or(r),userAuthId:sr(r)}}),{requestProfile:H.tg,requestProfileStatus:H.BO,updateProfileStatus:H.vq,putNewProfileLogo:H.kK}),(function(r){return function(e){var t=(0,Q.TH)(),o=(0,Q.s0)(),s=(0,Q.UO)();return(0,T.jsx)(r,(0,p.Z)((0,p.Z)({},e),{},{router:{location:t,navigate:o,params:s}}))}}),Y.D)(ir)},3254:function(r,e,t){t.d(e,{I:function(){return c},g:function(){return f}});var o=t(1413),s=t(5987),i="renderField_errorText__gsmbN",n=t(184),p=["input","meta"],l=["input"],u=["input"],a=function(r){r.input;var e=r.meta,t=e.error,o=e.touched,l=(0,s.Z)(r,p),u=t&&o;return(0,n.jsxs)(n.Fragment,{children:[l.children,u&&(0,n.jsx)("div",{className:i,children:t})]})},f=function(r){var e=r.input,t=(0,s.Z)(r,l);return(0,n.jsx)(a,(0,o.Z)((0,o.Z)({},r),{},{children:(0,n.jsx)("textarea",(0,o.Z)((0,o.Z)({},e),t))}))},c=function(r){var e=r.input,t=(0,s.Z)(r,u);return(0,n.jsx)(a,(0,o.Z)((0,o.Z)({},r),{},{children:(0,n.jsx)("input",(0,o.Z)((0,o.Z)({},e),t))}))}},4245:function(r,e,t){t.d(e,{C:function(){return s},t:function(){return o}});var o=function(r){return function(e){if(e&&e.length>r)return"Max length is ".concat(r," symbols")}},s=function(r){if(!r)return"This field is required"}},1548:function(r,e,t){t.d(e,{D:function(){return h}});var o=t(1413),s=t(5671),i=t(3144),n=t(136),p=t(516),l=t(8687),u=t(7689),a=t(2791),f=t(184),c=function(r){return{isAuth:r.authUser.isAuth}},h=function(r){var e=function(e){(0,n.Z)(l,e);var t=(0,p.Z)(l);function l(){return(0,s.Z)(this,l),t.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(r,(0,o.Z)({},this.props)):(0,f.jsx)(u.Fg,{to:"/login"})}}]),l}(a.Component);return(0,l.$j)(c)(e)}}}]);
//# sourceMappingURL=202.d5eccb10.chunk.js.map