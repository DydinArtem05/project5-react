"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[158],{9158:function(e,n,r){r.r(n),r.d(n,{default:function(){return K}});var t=r(5671),s=r(3144),i=r(136),o=r(516),a=r(2791),u=r(1694),c=r.n(u),h="Dialogs_dialogs__l136p",d="Dialogs_chat__bv-hM",l="Dialogs_senders_block__m7rhK",f="Dialogs_chat_history__bEbSB",p="Dialogs_chat_history__owner__V6Dm+",Z="Dialogs_chat_history__interlocutor__mI-1D",g="Dialogs_type_message__pAFXW",m=r(4942),v=r(184),C=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(e){return(0,t.Z)(this,r),n.call(this,e)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this,n=this.props.chatHistory.filter((function(n){return n.name===e.props.currentChatPerson}));return(0,v.jsx)("div",{className:c()(f),children:n[0].content.map((function(e,n){return(0,v.jsx)("div",{className:c()((0,m.Z)({},p,0===e.senderMessageId),(0,m.Z)({},Z,1===e.senderMessageId||2===e.senderMessageId||3===e.senderMessageId)),children:e.historyChatMessage},n)}))})}}]),r}(a.Component),_=r(6139),j=r(1232),x=r(3254),y=(0,r(4245).t)(150),P=(0,j.Z)({form:"addNewMessageForm"})((function(e){return(0,v.jsxs)("form",{className:c()(g),onSubmit:e.handleSubmit,children:[(0,v.jsx)(_.Z,{component:x.g,name:"addNewMessageField",validate:y}),(0,v.jsx)("button",{children:"Send"})]})})),M=r(2807),k=r(8687),N=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onAddNewMessage=function(n){e.props.sendMessageActionCreator(e.props.currentChatPerson,n.addNewMessageField)},e}return(0,s.Z)(r,[{key:"render",value:function(){return(0,v.jsx)(P,{onSubmit:this.onAddNewMessage})}}]),r}(a.Component),b=(0,k.$j)(null,{sendMessageActionCreator:M.$h})(N),w=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(e){return(0,t.Z)(this,r),n.call(this,e)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,v.jsxs)("div",{className:c()(d),children:[(0,v.jsx)(C,{chatHistory:this.props.chatHistory,currentChatPerson:this.props.currentChatPerson}),(0,v.jsx)(b,{onAddNewMessage:this.onAddNewMessage,currentChatPerson:this.props.currentChatPerson})]})}}]),r}(a.Component),A=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(e){var s;return(0,t.Z)(this,r),(s=n.call(this,e)).sendCurrentChatPerson=function(e){s.props.SetCurrentChatPage(e.currentTarget.innerHTML),s.setState({activeSender:e.currentTarget.id})},s.state={activeSender:1},s}return(0,s.Z)(r,[{key:"render",value:function(){var e=this;return(0,v.jsx)("div",{className:c()(l),children:(0,v.jsx)("ul",{children:this.props.senders.map((function(n){return(0,v.jsx)("li",{id:n.senderId,style:{backgroundColor:n.senderId==e.state.activeSender?"aliceblue":"#fff"},onClick:e.sendCurrentChatPerson,children:n.senderName},n.senderId)}))})})}}]),r}(a.Component),D=(0,k.$j)(null,{SetCurrentChatPage:M.qK})(A),S=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(e){return(0,t.Z)(this,r),n.call(this,e)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,v.jsxs)("div",{className:c()(h),children:[(0,v.jsx)(D,{senders:this.props.senders}),(0,v.jsx)(w,{chatHistory:this.props.chatHistory,currentChatPerson:this.props.currentChatPerson})]})}}]),r}(a.Component),H=r(7781),I=r(1548),F=function(e){return e.messagePage.chatHistory},T=function(e){return e.messagePage.senders},$=function(e){return e.messagePage.currentChatPerson},q=function(e){(0,i.Z)(r,e);var n=(0,o.Z)(r);function r(e){return(0,t.Z)(this,r),n.call(this,e)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,v.jsx)(S,{chatHistory:this.props.chatHistory,senders:this.props.senders,currentChatPerson:this.props.currentChatPerson})}}]),r}(a.Component),K=(0,H.qC)((0,k.$j)((function(e){return{chatHistory:F(e),senders:T(e),currentChatPerson:$(e)}})),I.D)(q)},3254:function(e,n,r){r.d(n,{I:function(){return l},g:function(){return d}});var t=r(1413),s=r(5987),i="renderField_errorText__gsmbN",o=r(184),a=["input","meta"],u=["input"],c=["input"],h=function(e){e.input;var n=e.meta,r=n.error,t=n.touched,u=(0,s.Z)(e,a),c=r&&t;return(0,o.jsxs)(o.Fragment,{children:[u.children,c&&(0,o.jsx)("div",{className:i,children:r})]})},d=function(e){var n=e.input,r=(0,s.Z)(e,u);return(0,o.jsx)(h,(0,t.Z)((0,t.Z)({},e),{},{children:(0,o.jsx)("textarea",(0,t.Z)((0,t.Z)({},n),r))}))},l=function(e){var n=e.input,r=(0,s.Z)(e,c);return(0,o.jsx)(h,(0,t.Z)((0,t.Z)({},e),{},{children:(0,o.jsx)("input",(0,t.Z)((0,t.Z)({},n),r))}))}},4245:function(e,n,r){r.d(n,{C:function(){return s},t:function(){return t}});var t=function(e){return function(n){if(n&&n.length>e)return"Max length is ".concat(e," symbols")}},s=function(e){if(!e)return"This field is required"}},1548:function(e,n,r){r.d(n,{D:function(){return f}});var t=r(1413),s=r(5671),i=r(3144),o=r(136),a=r(516),u=r(8687),c=r(7689),h=r(2791),d=r(184),l=function(e){return{isAuth:e.authUser.isAuth}},f=function(e){var n=function(n){(0,o.Z)(u,n);var r=(0,a.Z)(u);function u(){return(0,s.Z)(this,u),r.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,t.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),u}(h.Component);return(0,u.$j)(l)(n)}}}]);
//# sourceMappingURL=158.030fcc32.chunk.js.map